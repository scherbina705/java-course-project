drop table FRIENDSHIP;;
drop table HOBBY;;
drop table MESSAGE;;
drop table PERSON;;
drop table PERSON_HOBBY;;
drop table PLACE;;
drop table PLACE_PERSON;;
drop table POST;;
drop table POST_LIKES;;

create table FRIENDSHIP (DATE_FROM date, PERSON_ID bigint not null, FRIEND_ID bigint not null, primary key (PERSON_ID, FRIEND_ID));
create table HOBBY (HOBBY_ID bigint generated by default as identity, DESCRIPTION varchar(255), TITLE varchar(255) not null, primary key (HOBBY_ID));
create table MESSAGE (MESSAGE_ID bigint generated by default as identity, CONTENT varchar(255), TIME_SENT timestamp, PERSON_FROM bigint, PERSON_TO bigint, primary key (MESSAGE_ID));
create table PERSON (PERSON_ID bigint generated by default as identity, BIRTHDAY date, EMAIL varchar(255), FIRST_NAME varchar(255), LAST_NAME varchar(255), LOGIN varchar(255), PASSWORD varchar(255), primary key (PERSON_ID));
create table PERSON_HOBBY (Person_PERSON_ID bigint not null, hobbies_HOBBY_ID bigint not null, primary key (Person_PERSON_ID, hobbies_HOBBY_ID));
create table PLACE (PLACE_ID bigint generated by default as identity, DESCRIPTION varchar(255), LATITUDE float, LONGTITUDE float, TITLE varchar(255), primary key (PLACE_ID));
create table PLACE_PERSON (Place_PLACE_ID bigint not null, persons_PERSON_ID bigint not null, primary key (Place_PLACE_ID, persons_PERSON_ID));
create table POST (POST_ID bigint generated by default as identity, content varchar(255), PLACE_TIME timestamp, title varchar(255), PERSON_ID bigint, primary key (POST_ID));
create table POST_LIKES (POST_ID bigint not null, PERSON_ID bigint not null, primary key (POST_ID, PERSON_ID));

alter table HOBBY add constraint UK_nm2f2dscpdgkdgwx3ivnhrld7 unique (TITLE);
alter table PERSON add constraint UK_m6u5y0t5hyymk4g9h19h74vh2 unique (LOGIN);
alter table PLACE_PERSON add constraint UK_mvsdjun14npsxcwwpy45vh25i unique (persons_PERSON_ID);
alter table FRIENDSHIP add constraint FK1_FRIENDSHIP_PERSON foreign key (PERSON_ID) references PERSON;
alter table FRIENDSHIP add constraint FK2_FRIENDSHIP_PERSON foreign key (FRIEND_ID) references PERSON;
alter table MESSAGE add constraint FK1_MESSAGE_PERSON foreign key (PERSON_FROM) references PERSON;
alter table MESSAGE add constraint FK2_MESSAGE_PERSON foreign key (PERSON_TO) references PERSON;
alter table PERSON_HOBBY add constraint FKpkux18nh59yj8wnbet710cq9u foreign key (hobbies_HOBBY_ID) references HOBBY;
alter table PERSON_HOBBY add constraint FKrwit3mvvojyoiw0yqkl5wvh56 foreign key (Person_PERSON_ID) references PERSON;
alter table PLACE_PERSON add constraint FKn9t3urypncnwerehjomvkby1e foreign key (persons_PERSON_ID) references PERSON;
alter table PLACE_PERSON add constraint FKe1119i7rpd5luk0at6quaftcw foreign key (Place_PLACE_ID) references PLACE;
alter table POST add constraint FK_POST_PERSON foreign key (PERSON_ID) references PERSON;
alter table POST_LIKES add constraint FK_POST_LIKES_POST foreign key (POST_ID) references POST;
alter table POST_LIKES add constraint FK_POST_LIKES_PERSON foreign key (PERSON_ID) references PERSON;