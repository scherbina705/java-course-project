DROP TABLE FRIENDSHIP;
DROP TABLE HOBBY;
DROP TABLE MESSAGE;
DROP TABLE PERSON;
DROP TABLE PERSON_HOBBY;
DROP TABLE PLACE;
DROP TABLE PLACE_PERSON;
DROP TABLE POST;
DROP TABLE POST_LIKES;
CREATE TABLE FRIENDSHIP (
  DATE_FROM DATE,
  PERSON_ID BIGINT NOT NULL,
  FRIEND_ID BIGINT NOT NULL,
  PRIMARY KEY (PERSON_ID, FRIEND_ID)
);
CREATE TABLE HOBBY (
  HOBBY_ID    BIGINT generated BY DEFAULT AS IDENTITY,
  DESCRIPTION VARCHAR(255),
  TITLE       VARCHAR(255) NOT NULL,
  PRIMARY KEY (HOBBY_ID)
);
CREATE TABLE MESSAGE (
  MESSAGE_ID  BIGINT generated BY DEFAULT AS IDENTITY,
  CONTENT     VARCHAR(255),
  TIME_SENT   TIMESTAMP,
  PERSON_FROM BIGINT,
  PERSON_TO   BIGINT,
  PRIMARY KEY (MESSAGE_ID)
);
CREATE TABLE PERSON (
  PERSON_ID  BIGINT generated BY DEFAULT AS IDENTITY,
  BIRTHDAY   DATE,
  EMAIL      VARCHAR(255),
  FIRST_NAME VARCHAR(255),
  LAST_NAME  VARCHAR(255),
  LOGIN      VARCHAR(255),
  PASSWORD   VARCHAR(255),
  PRIMARY KEY (PERSON_ID)
);
CREATE TABLE PERSON_HOBBY (
  Person_PERSON_ID BIGINT NOT NULL,
  hobbies_HOBBY_ID BIGINT NOT NULL,
  PRIMARY KEY (Person_PERSON_ID, hobbies_HOBBY_ID)
);
CREATE TABLE PLACE (
  PLACE_ID    BIGINT generated BY DEFAULT AS IDENTITY,
  DESCRIPTION VARCHAR(255),
  LATITUDE    FLOAT,
  LONGTITUDE  FLOAT,
  TITLE       VARCHAR(255),
  PRIMARY KEY (PLACE_ID)
);
CREATE TABLE PLACE_PERSON (
  Place_PLACE_ID    BIGINT NOT NULL,
  persons_PERSON_ID BIGINT NOT NULL,
  PRIMARY KEY (Place_PLACE_ID, persons_PERSON_ID)
);
CREATE TABLE POST (
  POST_ID    BIGINT generated BY DEFAULT AS IDENTITY,
  CONTENT    VARCHAR(255),
  PLACE_TIME TIMESTAMP,
  TITLE      VARCHAR(255),
  PERSON_ID  BIGINT,
  PRIMARY KEY (POST_ID)
);
CREATE TABLE POST_LIKES (
  POST_ID   BIGINT NOT NULL,
  PERSON_ID BIGINT NOT NULL,
  PRIMARY KEY (POST_ID, PERSON_ID)
);

ALTER TABLE HOBBY ADD CONSTRAINT UK_nm2f2dscpdgkdgwx3ivnhrld7 UNIQUE (TITLE);
ALTER TABLE PERSON ADD CONSTRAINT UK_m6u5y0t5hyymk4g9h19h74vh2 UNIQUE (LOGIN);
ALTER TABLE PLACE_PERSON ADD CONSTRAINT UK_mvsdjun14npsxcwwpy45vh25i UNIQUE (persons_PERSON_ID);
ALTER TABLE FRIENDSHIP ADD CONSTRAINT FK1_FRIENDSHIP_PERSON FOREIGN KEY (PERSON_ID) REFERENCES PERSON;
ALTER TABLE FRIENDSHIP ADD CONSTRAINT FK2_FRIENDSHIP_PERSON FOREIGN KEY (FRIEND_ID) REFERENCES PERSON;
ALTER TABLE MESSAGE ADD CONSTRAINT FK1_MESSAGE_PERSON FOREIGN KEY (PERSON_FROM) REFERENCES PERSON;
ALTER TABLE MESSAGE ADD CONSTRAINT FK2_MESSAGE_PERSON FOREIGN KEY (PERSON_TO) REFERENCES PERSON;
ALTER TABLE PERSON_HOBBY ADD CONSTRAINT FKpkux18nh59yj8wnbet710cq9u FOREIGN KEY (hobbies_HOBBY_ID) REFERENCES HOBBY;
ALTER TABLE PERSON_HOBBY ADD CONSTRAINT FKrwit3mvvojyoiw0yqkl5wvh56 FOREIGN KEY (Person_PERSON_ID) REFERENCES PERSON;
ALTER TABLE PLACE_PERSON ADD CONSTRAINT FKn9t3urypncnwerehjomvkby1e FOREIGN KEY (persons_PERSON_ID) REFERENCES PERSON;
ALTER TABLE PLACE_PERSON ADD CONSTRAINT FKe1119i7rpd5luk0at6quaftcw FOREIGN KEY (Place_PLACE_ID) REFERENCES PLACE;
ALTER TABLE POST ADD CONSTRAINT FK_POST_PERSON FOREIGN KEY (PERSON_ID) REFERENCES PERSON;
ALTER TABLE POST_LIKES ADD CONSTRAINT FK_POST_LIKES_POST FOREIGN KEY (POST_ID) REFERENCES POST;
ALTER TABLE POST_LIKES ADD CONSTRAINT FK_POST_LIKES_PERSON FOREIGN KEY (PERSON_ID) REFERENCES PERSON